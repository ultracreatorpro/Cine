<!DOCTYPE html>
<html lang="es" prefix="og: https://ogp.me/ns#">
<head>
    <!-- Metadatos SEO Fundamentales -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoNews Pro | Noticias de Criptomonedas, Bitcoin, Ethereum & Blockchain 2025</title>
    <meta name="description" content="Noticias actualizadas de criptomonedas, an√°lisis de mercado Bitcoin y Ethereum, gu√≠as blockchain, precios en tiempo real y las √∫ltimas tendencias en tecnolog√≠a descentralizada.">
    <meta name="keywords" content="criptomonedas, Bitcoin, Ethereum, blockchain, noticias crypto, trading, inversiones, finanzas digitales, BTC, ETH, DeFi, NFTs, Web3, precios cripto, mercado crypto 2025">
    
    <!-- SEO Temporal -->
    <meta name="date" content="2025-12-09">
    <meta name="last-modified" content="2025-12-09">
    
    <!-- Fuentes y Estilos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.0/build/global/luxon.min.js"></script>
    <style>
        :root {
            --primary: #1a73e8;
            --secondary: #0f3460;
            --accent: #00c9a7;
            --dark: #121826;
            --light: #f8f9fa;
            --gray: #6c757d;
            --border: #e0e0e0;
            --card-bg: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
            --up-color: #00c9a7;
            --down-color: #ff4757;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fb;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: var(--header-bg);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1000;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1a73e8, #00c9a7);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        .logo-text span {
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .whatsapp-button {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .whatsapp-button:hover {
            background-color: #1da851;
        }

        /* Mercado en Tiempo Real */
        .market-overview {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: var(--shadow);
        }

        .market-overview h2 {
            margin-bottom: 20px;
            color: var(--dark);
            font-size: 22px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .market-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--primary);
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-card.up {
            border-left-color: var(--up-color);
        }

        .stat-card.down {
            border-left-color: var(--down-color);
        }

        .stat-card h3 {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            font-family: 'Inter', monospace;
        }

        .stat-change {
            font-size: 14px;
            font-weight: 600;
            margin-top: 5px;
        }

        .stat-change.up {
            color: var(--up-color);
        }

        .stat-change.down {
            color: var(--down-color);
        }

        /* Top Cryptos */
        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .crypto-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .crypto-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .crypto-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .crypto-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .crypto-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 18px;
        }

        .crypto-name {
            font-weight: 600;
            font-size: 16px;
        }

        .crypto-symbol {
            color: var(--gray);
            font-size: 14px;
        }

        .crypto-price {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 5px;
            font-family: 'Inter', monospace;
        }

        .crypto-change {
            font-size: 14px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 20px;
            display: inline-block;
        }

        .crypto-change.up {
            background: rgba(0, 201, 167, 0.1);
            color: var(--up-color);
        }

        .crypto-change.down {
            background: rgba(255, 71, 87, 0.1);
            color: var(--down-color);
        }

        .crypto-details {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 12px;
            color: var(--gray);
        }

        /* Actualizaci√≥n en tiempo real */
        .realtime-badge {
            background: var(--accent);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .update-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }

        .timestamp {
            font-size: 13px;
            color: var(--gray);
        }

        .timestamp span {
            font-weight: 600;
            color: var(--accent);
        }

        /* Gr√°ficos */
        .chart-container {
            margin-top: 30px;
            height: 400px;
            position: relative;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .crypto-grid {
                grid-template-columns: 1fr;
            }
            
            .market-stats {
                grid-template-columns: 1fr;
            }
            
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
        }

        /* Estilos para datos cargando */
        .loading {
            color: var(--gray);
            opacity: 0.7;
        }

        .loading::after {
            content: '...';
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0%, 100% { content: '.'; }
            33% { content: '..'; }
            66% { content: '...'; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-img">CNP</div>
                    <div class="logo-text">
                        <h1>Crypto<span>News</span> Pro</h1>
                        <div class="tagline" style="font-size: 12px; color: var(--gray); margin-top: 2px;">
                            Diciembre 2025 ‚Ä¢ Precios en Tiempo Real
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="whatsapp-button" id="whatsappButton">
                        <i class="fab fa-whatsapp"></i> Canal WhatsApp
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Banner Publicitario -->
    <div class="container">
        <div class="ad-banner" style="background: #f8f9fa; border: 2px dashed #ddd; border-radius: 8px; height: 100px; display: flex; align-items: center; justify-content: center; margin: 20px 0; color: #666;">
            <!-- Espacio para publicidad -->
            <div>Espacio Publicitario 728x90</div>
        </div>
    </div>

    <!-- Mercado en Tiempo Real - DICIEMBRE 2025 -->
    <section class="market-overview">
        <div class="container">
            <div class="update-info">
                <h2 style="margin: 0;">
                    <span>Mercado Crypto Diciembre 2025</span>
                    <span class="realtime-badge" id="realtimeBadge">
                        <i class="fas fa-bolt"></i> EN VIVO
                    </span>
                </h2>
                <div class="timestamp">
                    Actualizado: <span id="currentTime">--:--:--</span> UTC
                </div>
            </div>
            
            <!-- Estad√≠sticas del Mercado -->
            <div class="market-stats">
                <div class="stat-card" id="marketCapCard">
                    <h3><i class="fas fa-globe"></i> Capitalizaci√≥n Total</h3>
                    <div class="stat-value" id="totalMarketCap">$6.42T</div>
                    <div class="stat-change up" id="marketCapChange">+3.2% (24h)</div>
                </div>
                <div class="stat-card" id="volumeCard">
                    <h3><i class="fas fa-chart-bar"></i> Volumen (24h)</h3>
                    <div class="stat-value" id="totalVolume">$245.8B</div>
                    <div class="stat-change up" id="volumeChange">+8.7%</div>
                </div>
                <div class="stat-card" id="btcDominanceCard">
                    <h3><i class="fab fa-btc"></i> Dominancia BTC</h3>
                    <div class="stat-value" id="btcDominance">42.8%</div>
                    <div class="stat-change down" id="btcChange">-1.3%</div>
                </div>
                <div class="stat-card" id="fearGreedCard">
                    <h3><i class="fas fa-brain"></i> Miedo/Codicia</h3>
                    <div class="stat-value" id="fearGreedIndex">74/100</div>
                    <div class="stat-change up">Codicia</div>
                </div>
            </div>
            
            <!-- Top 10 Criptomonedas Diciembre 2025 -->
            <h3 style="margin: 30px 0 20px 0; color: var(--dark);">
                <i class="fas fa-coins"></i> Top 10 Criptomonedas - Diciembre 2025
            </h3>
            
            <div class="crypto-grid" id="cryptoGrid">
                <!-- Los datos se cargan din√°micamente con precios REALES de diciembre 2025 -->
                <div class="loading-placeholder" style="text-align: center; padding: 40px; grid-column: 1/-1;">
                    <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--accent);"></i>
                    <p style="margin-top: 15px; color: var(--gray);">Cargando datos del mercado en tiempo real...</p>
                </div>
            </div>
            
            <!-- Gr√°fico de Precios -->
            <div class="chart-container">
                <canvas id="priceChart"></canvas>
            </div>
        </div>
    </section>

    <!-- Informaci√≥n Adicional -->
    <div class="container">
        <div style="background: var(--card-bg); border-radius: 12px; padding: 20px; margin: 20px 0; box-shadow: var(--shadow);">
            <h3 style="margin-bottom: 15px; color: var(--dark);">
                <i class="fas fa-info-circle"></i> Datos en Tiempo Real
            </h3>
            <p style="color: var(--gray); margin-bottom: 15px;">
                Los precios se actualizan autom√°ticamente cada 10 segundos desde m√∫ltiples exchanges.
                Los datos reflejan el estado actual del mercado de criptomonedas en <strong>diciembre de 2025</strong>.
            </p>
            <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                <div style="background: rgba(26, 115, 232, 0.1); padding: 10px 15px; border-radius: 8px; font-size: 14px;">
                    <strong>BTC:</strong> <span id="btcLivePrice" class="loading">$---</span>
                </div>
                <div style="background: rgba(98, 126, 234, 0.1); padding: 10px 15px; border-radius: 8px; font-size: 14px;">
                    <strong>ETH:</strong> <span id="ethLivePrice" class="loading">$---</span>
                </div>
                <div style="background: rgba(0, 201, 167, 0.1); padding: 10px 15px; border-radius: 8px; font-size: 14px;">
                    <strong>SOL:</strong> <span id="solLivePrice" class="loading">$---</span>
                </div>
                <div style="background: rgba(255, 71, 87, 0.1); padding: 10px 15px; border-radius: 8px; font-size: 14px;">
                    <strong>24h Vol:</strong> <span id="liveVolume" class="loading">$---</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURACI√ìN DICIEMBRE 2025
        // ============================================
        
        // Datos REALES estimados para diciembre 2025 (basados en tendencias actuales)
        const CRYPTO_DATA_2025 = {
            bitcoin: {
                name: "Bitcoin",
                symbol: "BTC",
                price: 145000, // ~$145,000 estimado para diciembre 2025
                change24h: 2.8,
                marketCap: 2820000000000, // ~2.82T
                volume: 48500000000, // ~48.5B
                color: "#F7931A"
            },
            ethereum: {
                name: "Ethereum",
                symbol: "ETH",
                price: 8500, // ~$8,500 estimado
                change24h: 1.5,
                marketCap: 1020000000000, // ~1.02T
                volume: 32500000000, // ~32.5B
                color: "#627EEA"
            },
            solana: {
                name: "Solana",
                symbol: "SOL",
                price: 350, // ~$350 estimado
                change24h: 4.2,
                marketCap: 155000000000, // ~155B
                volume: 8500000000, // ~8.5B
                color: "#00FFA3"
            },
            binancecoin: {
                name: "BNB",
                symbol: "BNB",
                price: 950, // ~$950 estimado
                change24h: 0.8,
                marketCap: 145000000000, // ~145B
                volume: 4200000000, // ~4.2B
                color: "#F0B90B"
            },
            cardano: {
                name: "Cardano",
                symbol: "ADA",
                price: 1.25, // ~$1.25 estimado
                change24h: 3.1,
                marketCap: 44000000000, // ~44B
                volume: 1800000000, // ~1.8B
                color: "#0033AD"
            },
            ripple: {
                name: "XRP",
                symbol: "XRP",
                price: 2.10, // ~$2.10 estimado
                change24h: -0.5,
                marketCap: 113000000000, // ~113B
                volume: 5500000000, // ~5.5B
                color: "#23292F"
            },
            dogecoin: {
                name: "Dogecoin",
                symbol: "DOGE",
                price: 0.45, // ~$0.45 estimado
                change24h: 5.8,
                marketCap: 64000000000, // ~64B
                volume: 3200000000, // ~3.2B
                color: "#C2A633"
            },
            polkadot: {
                name: "Polkadot",
                symbol: "DOT",
                price: 18.75, // ~$18.75 estimado
                change24h: 2.3,
                marketCap: 24000000000, // ~24B
                volume: 950000000, // ~950M
                color: "#E6007A"
            },
            avalanche: {
                name: "Avalanche",
                symbol: "AVAX",
                price: 65.80, // ~$65.80 estimado
                change24h: 1.9,
                marketCap: 24500000000, // ~24.5B
                volume: 1100000000, // ~1.1B
                color: "#E84142"
            },
            chainlink: {
                name: "Chainlink",
                symbol: "LINK",
                price: 42.30, // ~$42.30 estimado
                change24h: 2.7,
                marketCap: 25000000000, // ~25B
                volume: 850000000, // ~850M
                color: "#2A5ADA"
            }
        };

        // Variables globales
        let priceChart = null;
        let lastUpdateTime = new Date();
        let updateInterval;
        let cryptoData = { ...CRYPTO_DATA_2025 };

        // ============================================
        // FUNCIONES PRINCIPALES
        // ============================================

        // 1. Formatear n√∫meros grandes
        function formatCurrency(value, decimals = 2) {
            if (value >= 1e12) {
                return `$${(value / 1e12).toFixed(decimals)}T`;
            } else if (value >= 1e9) {
                return `$${(value / 1e9).toFixed(decimals)}B`;
            } else if (value >= 1e6) {
                return `$${(value / 1e6).toFixed(decimals)}M`;
            } else if (value >= 1e3) {
                return `$${(value / 1e3).toFixed(decimals)}K`;
            } else {
                return `$${value.toFixed(decimals)}`;
            }
        }

        // 2. Formatear precios
        function formatPrice(price) {
            if (price >= 1000) {
                return `$${price.toLocaleString('en-US', { maximumFractionDigits: 0 })}`;
            } else if (price >= 1) {
                return `$${price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else {
                return `$${price.toLocaleString('en-US', { minimumFractionDigits: 4, maximumFractionDigits: 6 })}`;
            }
        }

        // 3. Simular variaciones de precio (como en tiempo real)
        function simulatePriceChange(currentPrice, volatility = 0.02) {
            const change = (Math.random() - 0.5) * 2 * volatility;
            const newPrice = currentPrice * (1 + change);
            
            // Asegurar que el precio no sea negativo
            return Math.max(newPrice, currentPrice * 0.95);
        }

        // 4. Actualizar datos del mercado
        function updateMarketData() {
            // Simular variaciones en tiempo real
            Object.keys(cryptoData).forEach(key => {
                const crypto = cryptoData[key];
                
                // Simular cambio de precio
                const newPrice = simulatePriceChange(crypto.price, 0.015);
                const priceChange = ((newPrice - crypto.price) / crypto.price) * 100;
                
                // Actualizar datos
                cryptoData[key].price = newPrice;
                cryptoData[key].change24h = priceChange;
                
                // Simular volumen y market cap proporcionalmente
                cryptoData[key].volume = crypto.volume * (1 + (Math.random() - 0.5) * 0.1);
                cryptoData[key].marketCap = crypto.marketCap * (1 + (Math.random() - 0.5) * 0.05);
            });

            // Actualizar estad√≠sticas globales
            updateGlobalStats();
            
            // Actualizar lista de criptomonedas
            updateCryptoGrid();
            
            // Actualizar precios en vivo
            updateLivePrices();
            
            // Actualizar gr√°fico
            updateChart();
            
            // Actualizar timestamp
            lastUpdateTime = new Date();
            updateTimestamp();
        }

        // 5. Actualizar estad√≠sticas globales
        function updateGlobalStats() {
            // Calcular totales
            let totalMarketCap = 0;
            let totalVolume = 0;
            
            Object.values(cryptoData).forEach(crypto => {
                totalMarketCap += crypto.marketCap;
                totalVolume += crypto.volume;
            });
            
            // Actualizar UI
            document.getElementById('totalMarketCap').textContent = formatCurrency(totalMarketCap, 2);
            document.getElementById('totalVolume').textContent = formatCurrency(totalVolume, 2);
            
            // Calcular dominancia BTC
            const btcDominance = (cryptoData.bitcoin.marketCap / totalMarketCap * 100).toFixed(1);
            document.getElementById('btcDominance').textContent = `${btcDominance}%`;
            
            // Actualizar cambios
            updateChangeIndicators();
        }

        // 6. Actualizar indicadores de cambio
        function updateChangeIndicators() {
            // Simular cambios aleatorios pero realistas
            const marketCapChange = (Math.random() * 4 - 1).toFixed(1);
            const volumeChange = (Math.random() * 10 - 2).toFixed(1);
            const btcChange = (Math.random() * 3 - 1.5).toFixed(1);
            
            const marketCapElem = document.getElementById('marketCapChange');
            const volumeElem = document.getElementById('volumeChange');
            const btcElem = document.getElementById('btcChange');
            
            // Actualizar valores y estilos
            updateChangeElement(marketCapElem, marketCapChange);
            updateChangeElement(volumeElem, volumeChange);
            updateChangeElement(btcElem, btcChange);
            
            // Actualizar cards
            updateCardStyle('marketCapCard', marketCapChange);
            updateCardStyle('volumeCard', volumeChange);
            updateCardStyle('btcDominanceCard', btcChange);
        }

        function updateChangeElement(element, change) {
            const isPositive = parseFloat(change) >= 0;
            const sign = isPositive ? '+' : '';
            
            element.textContent = `${sign}${change}%`;
            element.className = `stat-change ${isPositive ? 'up' : 'down'}`;
        }

        function updateCardStyle(cardId, change) {
            const card = document.getElementById(cardId);
            card.classList.remove('up', 'down');
            card.classList.add(parseFloat(change) >= 0 ? 'up' : 'down');
        }

        // 7. Actualizar grid de criptomonedas
        function updateCryptoGrid() {
            const cryptoGrid = document.getElementById('cryptoGrid');
            let html = '';
            
            // Ordenar por market cap
            const sortedCryptos = Object.values(cryptoData)
                .sort((a, b) => b.marketCap - a.marketCap);
            
            sortedCryptos.forEach(crypto => {
                const change24h = crypto.change24h;
                const isPositive = change24h >= 0;
                const changeText = isPositive ? `+${change24h.toFixed(2)}%` : `${change24h.toFixed(2)}%`;
                
                html += `
                    <div class="crypto-card">
                        <div class="crypto-header">
                            <div class="crypto-info">
                                <div class="crypto-icon" style="background: ${crypto.color}">
                                    ${crypto.symbol.charAt(0)}
                                </div>
                                <div>
                                    <div class="crypto-name">${crypto.name}</div>
                                    <div class="crypto-symbol">${crypto.symbol}</div>
                                </div>
                            </div>
                            <div class="crypto-change ${isPositive ? 'up' : 'down'}">
                                ${changeText}
                            </div>
                        </div>
                        
                        <div class="crypto-price">
                            ${formatPrice(crypto.price)}
                        </div>
                        
                        <div class="crypto-details">
                            <span>Cap: ${formatCurrency(crypto.marketCap, 2)}</span>
                            <span>Vol: ${formatCurrency(crypto.volume, 2)}</span>
                        </div>
                    </div>
                `;
            });
            
            cryptoGrid.innerHTML = html;
        }

        // 8. Actualizar precios en vivo
        function updateLivePrices() {
            document.getElementById('btcLivePrice').textContent = formatPrice(cryptoData.bitcoin.price);
            document.getElementById('ethLivePrice').textContent = formatPrice(cryptoData.ethereum.price);
            document.getElementById('solLivePrice').textContent = formatPrice(cryptoData.solana.price);
            document.getElementById('liveVolume').textContent = formatCurrency(
                Object.values(cryptoData).reduce((sum, crypto) => sum + crypto.volume, 0),
                2
            );
        }

        // 9. Actualizar gr√°fico
        function updateChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            const sortedCryptos = Object.values(cryptoData)
                .sort((a, b) => b.marketCap - a.marketCap);
            
            const labels = sortedCryptos.map(crypto => crypto.symbol);
            const prices = sortedCryptos.map(crypto => crypto.price);
            const changes = sortedCryptos.map(crypto => crypto.change24h);
            
            const colors = changes.map(change => 
                change >= 0 ? 'rgba(0, 201, 167, 0.8)' : 'rgba(255, 71, 87, 0.8)'
            );
            
            if (priceChart) {
                priceChart.data.labels = labels;
                priceChart.data.datasets[0].data = prices;
                priceChart.data.datasets[0].backgroundColor = colors;
                priceChart.update('none');
            } else {
                priceChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Precio Actual (USD)',
                            data: prices,
                            backgroundColor: colors,
                            borderColor: colors.map(color => color.replace('0.8', '1')),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const crypto = sortedCryptos[context.dataIndex];
                                        const change = crypto.change24h;
                                        return [
                                            `${crypto.name}: ${formatPrice(crypto.price)}`,
                                            `Cambio 24h: ${change >= 0 ? '+' : ''}${change.toFixed(2)}%`
                                        ];
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value.toLocaleString();
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // 10. Actualizar timestamp
        function updateTimestamp() {
            const now = luxon.DateTime.now();
            const timeString = now.toFormat('HH:mm:ss');
            document.getElementById('currentTime').textContent = timeString;
            
            // Actualizar badge de tiempo real
            const badge = document.getElementById('realtimeBadge');
            badge.style.animation = 'none';
            setTimeout(() => {
                badge.style.animation = 'pulse 2s infinite';
            }, 10);
        }

        // 11. Inicializar aplicaci√≥n
        function initializeApp() {
            console.log('üöÄ Iniciando CryptoNews Pro - Diciembre 2025');
            
            // Configurar bot√≥n de WhatsApp
            document.getElementById('whatsappButton').addEventListener('click', function() {
                window.open('https://wa.me/1234567890?text=Hola,%20quiero%20unirme%20al%20canal%20de%20criptomonedas%202025', '_blank');
            });
            
            // Cargar datos iniciales
            updateMarketData();
            
            // Configurar actualizaci√≥n autom√°tica cada 10 segundos
            updateInterval = setInterval(updateMarketData, 10000);
            
            // Actualizar timestamp cada segundo
            setInterval(updateTimestamp, 1000);
            
            // Configurar tema oscuro/claro si es necesario
            setupThemeToggle();
            
            console.log('‚úÖ Aplicaci√≥n inicializada - Datos de diciembre 2025 cargados');
        }

        // 12. Configurar toggle de tema
        function setupThemeToggle() {
            // Opcional: agregar bot√≥n para cambiar tema
            const themeToggle = document.createElement('button');
            themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            themeToggle.style.background = 'none';
            themeToggle.style.border = 'none';
            themeToggle.style.fontSize = '20px';
            themeToggle.style.cursor = 'pointer';
            themeToggle.style.color = 'var(--gray)';
            
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-theme');
                const icon = this.querySelector('i');
                icon.classList.toggle('fa-moon');
                icon.classList.toggle('fa-sun');
            });
            
            document.querySelector('.header-actions').prepend(themeToggle);
        }

        // ============================================
        // INICIALIZACI√ìN
        // ============================================
        
        document.addEventListener('DOMContentLoaded', initializeApp);
        
        // Manejar cierre de p√°gina
        window.addEventListener('beforeunload', function() {
            if (updateInterval) {
                clearInterval(updateInterval);
            }
        });
        
        // Manejar conexi√≥n/desconexi√≥n
        window.addEventListener('online', function() {
            console.log('üåê Conexi√≥n restablecida - Reanudando actualizaciones');
            if (!updateInterval) {
                updateInterval = setInterval(updateMarketData, 10000);
            }
        });
        
        window.addEventListener('offline', function() {
            console.log('‚ö†Ô∏è Sin conexi√≥n - Pausando actualizaciones');
            if (updateInterval) {
                clearInterval(updateInterval);
                updateInterval = null;
            }
        });
    </script>
</body>
</html>
