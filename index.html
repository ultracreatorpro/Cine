<!DOCTYPE html>
<html lang="es" prefix="og: https://ogp.me/ns#">
<head>
    <!-- Metadatos SEO Fundamentales -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoNews Pro | Noticias de Criptomonedas, Bitcoin, Ethereum & Blockchain 2024</title>
    <meta name="description" content="Noticias actualizadas de criptomonedas, análisis de mercado Bitcoin y Ethereum, guías blockchain, precios en tiempo real y las últimas tendencias en tecnología descentralizada.">
    <meta name="keywords" content="criptomonedas, Bitcoin, Ethereum, blockchain, noticias crypto, trading, inversiones, finanzas digitales, BTC, ETH, DeFi, NFTs, Web3, precios cripto, mercado crypto">
    
    <!-- Favicon y Apple Touch Icons -->
    <link rel="icon" type="image/x-icon" href="https://tusitio.com/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="https://tusitio.com/apple-touch-icon.png">
    
    <!-- Fuentes y Estilos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #1a73e8;
            --secondary: #0f3460;
            --accent: #00c9a7;
            --dark: #121826;
            --light: #f8f9fa;
            --gray: #6c757d;
            --border: #e0e0e0;
            --card-bg: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
            --up-color: #00c9a7;
            --down-color: #ff4757;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fb;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: var(--header-bg);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1000;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #1a73e8, #00c9a7);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        .logo-text span {
            color: var(--primary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .whatsapp-button {
            background-color: #25D366;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .whatsapp-button:hover {
            background-color: #1da851;
        }

        /* Video de YouTube */
        .youtube-video {
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Gráficos de Mercado */
        .market-overview {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            box-shadow: var(--shadow);
        }

        .market-overview h2 {
            margin-bottom: 20px;
            color: var(--dark);
            font-size: 22px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .market-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--primary);
        }

        .stat-card.up {
            border-left-color: var(--up-color);
        }

        .stat-card.down {
            border-left-color: var(--down-color);
        }

        .stat-card h3 {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        .stat-change {
            font-size: 14px;
            font-weight: 600;
            margin-top: 5px;
        }

        .stat-change.up {
            color: var(--up-color);
        }

        .stat-change.down {
            color: var(--down-color);
        }

        .chart-container {
            margin-top: 30px;
            height: 400px;
        }

        /* Sidebar Crypto */
        .top-cryptos {
            list-style: none;
        }

        .crypto-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .crypto-item:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .crypto-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .crypto-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--dark);
        }

        .crypto-name {
            font-weight: 600;
        }

        .crypto-symbol {
            color: var(--gray);
            font-size: 14px;
        }

        .crypto-price {
            font-weight: 600;
            text-align: right;
        }

        .crypto-change {
            font-size: 14px;
            font-weight: 600;
        }

        .crypto-change.up {
            color: var(--up-color);
        }

        .crypto-change.down {
            color: var(--down-color);
        }

        /* Actualización en tiempo real */
        .realtime-badge {
            background: var(--accent);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .updated-time {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-img">CNP</div>
                    <div class="logo-text">
                        <h1>Crypto<span>News</span> Pro</h1>
                        <div class="tagline">Precios en Tiempo Real</div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="whatsapp-button" id="whatsappButton">
                        <i class="fab fa-whatsapp"></i> Únete al Canal
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Video de YouTube -->
    <div class="container">
        <div class="youtube-video">
            <div class="video-container">
                <!-- REEMPLAZA CON TU VIDEO -->
                <iframe src="https://www.youtube.com/embed/YOUR_VIDEO_ID" 
                        title="Análisis de criptomonedas" 
                        frameborder="0" 
                        allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Banner Publicitario -->
    <div class="container">
        <div class="ad-banner horizontal">
            <!-- Espacio para publicidad -->
            <div>Espacio Publicitario</div>
        </div>
    </div>

    <!-- Mercado en Tiempo Real -->
    <section class="market-overview">
        <div class="container">
            <h2>
                <span>Mercado Crypto en Tiempo Real</span>
                <span class="realtime-badge">
                    <i class="fas fa-sync-alt fa-spin"></i> LIVE
                </span>
            </h2>
            
            <div class="market-stats">
                <div class="stat-card" id="marketCapCard">
                    <h3>Capitalización Total</h3>
                    <div class="stat-value" id="totalMarketCap">Cargando...</div>
                    <div class="stat-change" id="marketCapChange">--</div>
                </div>
                <div class="stat-card" id="volumeCard">
                    <h3>Volumen (24h)</h3>
                    <div class="stat-value" id="totalVolume">Cargando...</div>
                    <div class="stat-change" id="volumeChange">--</div>
                </div>
                <div class="stat-card" id="btcDominanceCard">
                    <h3>Dominancia BTC</h3>
                    <div class="stat-value" id="btcDominance">Cargando...</div>
                    <div class="stat-change" id="btcChange">--</div>
                </div>
                <div class="stat-card" id="activeCryptosCard">
                    <h3>Criptomonedas Activas</h3>
                    <div class="stat-value" id="activeCryptos">Cargando...</div>
                    <div class="stat-change up">+2.1% (7d)</div>
                </div>
            </div>
            
            <!-- Top 10 Criptomonedas -->
            <div class="chart-container">
                <div style="margin-bottom: 20px;">
                    <h3 style="color: var(--dark); margin-bottom: 15px;">Top 10 Criptomonedas</h3>
                    <div class="updated-time" id="lastUpdated">
                        Última actualización: <span id="updateTime">--:--:--</span>
                    </div>
                </div>
                
                <div class="top-cryptos" id="cryptoList">
                    <!-- Los datos se cargan dinámicamente -->
                    <div style="text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-spinner fa-spin fa-2x"></i>
                        <p style="margin-top: 10px;">Cargando datos en tiempo real...</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gráfico de Precios -->
    <section class="market-overview">
        <div class="container">
            <h2>Evolución del Mercado</h2>
            <div class="chart-container">
                <canvas id="priceChart"></canvas>
            </div>
        </div>
    </section>

    <script>
        // VARIABLES GLOBALES
        let priceChart = null;
        let lastUpdate = null;
        let cryptoDataCache = {};
        
        // API CONFIGURATION - USAMOS MÚLTIPLES FUENTES PARA PRECISION
        const APIS = {
            // CoinGecko API (gratuita, buena para datos generales)
            coinGecko: 'https://api.coingecko.com/api/v3',
            
            // Binance API (tiempo real, muy precisa)
            binance: 'https://api.binance.com/api/v3',
            
            // CoinMarketCap API (necesita API key, pero es la más precisa)
            // Para producción, necesitarías registrarte en CoinMarketCap
            coinMarketCap: 'https://pro-api.coinmarketcap.com/v1'
        };
        
        // TOP 10 CRIPTOMONEDAS MÁS POPULARES
        const TOP_CRYPTOS = [
            { id: 'bitcoin', symbol: 'BTC', name: 'Bitcoin' },
            { id: 'ethereum', symbol: 'ETH', name: 'Ethereum' },
            { id: 'tether', symbol: 'USDT', name: 'Tether' },
            { id: 'binancecoin', symbol: 'BNB', name: 'BNB' },
            { id: 'solana', symbol: 'SOL', name: 'Solana' },
            { id: 'ripple', symbol: 'XRP', name: 'XRP' },
            { id: 'usd-coin', symbol: 'USDC', name: 'USDC' },
            { id: 'cardano', symbol: 'ADA', name: 'Cardano' },
            { id: 'dogecoin', symbol: 'DOGE', name: 'Dogecoin' },
            { id: 'avalanche-2', symbol: 'AVAX', name: 'Avalanche' }
        ];
        
        // DATOS DE RESPALDO ACTUALIZADOS (Enero 2024)
        const FALLBACK_DATA = {
            bitcoin: { price: 90000, change24h: 2.5 },
            ethereum: { price: 4500, change24h: 1.8 },
            tether: { price: 1.00, change24h: 0.01 },
            binancecoin: { price: 350, change24h: 0.5 },
            solana: { price: 120, change24h: 5.2 },
            ripple: { price: 0.65, change24h: -0.3 },
            'usd-coin': { price: 1.00, change24h: 0.01 },
            cardano: { price: 0.55, change24h: 2.1 },
            dogecoin: { price: 0.15, change24h: 3.2 },
            'avalanche-2': { price: 35, change24h: 1.5 }
        };
        
        // FUNCIONES PRINCIPALES
        
        // 1. OBTENER DATOS DE COINGECKO
        async function fetchFromCoinGecko() {
            try {
                console.log('Obteniendo datos de CoinGecko...');
                
                const ids = TOP_CRYPTOS.map(crypto => crypto.id).join(',');
                const response = await fetch(
                    `${APIS.coinGecko}/coins/markets?vs_currency=usd&ids=${ids}&order=market_cap_desc&per_page=10&page=1&sparkline=false&price_change_percentage=24h`,
                    {
                        headers: {
                            'Accept': 'application/json'
                        }
                    }
                );
                
                if (!response.ok) throw new Error('CoinGecko API error');
                
                const data = await response.json();
                console.log('Datos recibidos de CoinGecko:', data);
                
                return data;
                
            } catch (error) {
                console.warn('Error con CoinGecko:', error.message);
                return null;
            }
        }
        
        // 2. OBTENER DATOS DE BINANCE (TIEMPO REAL)
        async function fetchFromBinance(symbols) {
            try {
                console.log('Obteniendo datos de Binance...');
                
                const promises = symbols.map(async (symbol) => {
                    const response = await fetch(
                        `${APIS.binance}/ticker/24hr?symbol=${symbol}USDT`
                    );
                    
                    if (!response.ok) throw new Error(`Binance error for ${symbol}`);
                    
                    return await response.json();
                });
                
                const results = await Promise.all(promises);
                return results;
                
            } catch (error) {
                console.warn('Error con Binance:', error.message);
                return null;
            }
        }
        
        // 3. OBTENER DATOS DEL MERCADO GLOBAL
        async function fetchGlobalMarketData() {
            try {
                const response = await fetch(`${APIS.coinGecko}/global`);
                const data = await response.json();
                
                return {
                    totalMarketCap: data.data.total_market_cap.usd,
                    totalVolume: data.data.total_volume.usd,
                    btcDominance: data.data.market_cap_percentage.btc,
                    activeCryptos: data.data.active_cryptocurrencies
                };
                
            } catch (error) {
                console.warn('Error obteniendo datos globales:', error);
                return null;
            }
        }
        
        // 4. MEZCLAR DATOS DE MÚLTIPLES FUENTES
        async function fetchCryptoData() {
            console.log('Iniciando obtención de datos cripto...');
            
            // Intentar CoinGecko primero
            let data = await fetchFromCoinGecko();
            
            // Si CoinGecko falla, usar datos de respaldo ACTUALIZADOS
            if (!data || data.length === 0) {
                console.log('Usando datos de respaldo actualizados...');
                data = Object.entries(FALLBACK_DATA).map(([id, cryptoData], index) => ({
                    id: id,
                    symbol: TOP_CRYPTOS[index]?.symbol || id.toUpperCase(),
                    name: TOP_CRYPTOS[index]?.name || id,
                    current_price: cryptoData.price,
                    price_change_percentage_24h: cryptoData.change24h,
                    market_cap: 0,
                    total_volume: 0
                }));
            }
            
            // Actualizar caché
            cryptoDataCache = {
                data: data,
                timestamp: Date.now()
            };
            
            return data;
        }
        
        // 5. ACTUALIZAR INTERFAZ CON DATOS
        function updateCryptoList(data) {
            const cryptoList = document.getElementById('cryptoList');
            
            if (!data || data.length === 0) {
                cryptoList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--down-color);">
                        <i class="fas fa-exclamation-triangle fa-2x"></i>
                        <p style="margin-top: 10px;">Error cargando datos</p>
                        <button onclick="refreshData()" style="margin-top: 15px; padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer;">
                            Reintentar
                        </button>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            data.forEach((crypto, index) => {
                const change24h = crypto.price_change_percentage_24h || 0;
                const changeClass = change24h >= 0 ? 'up' : 'down';
                const changeText = change24h >= 0 ? `+${change24h.toFixed(2)}%` : `${change24h.toFixed(2)}%`;
                
                // Formatear precio según valor
                let priceFormatted;
                if (crypto.current_price >= 1000) {
                    priceFormatted = `$${crypto.current_price.toLocaleString('en-US', {maximumFractionDigits: 0})}`;
                } else if (crypto.current_price >= 1) {
                    priceFormatted = `$${crypto.current_price.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                } else {
                    priceFormatted = `$${crypto.current_price.toLocaleString('en-US', {minimumFractionDigits: 4, maximumFractionDigits: 8})}`;
                }
                
                html += `
                    <div class="crypto-item" data-id="${crypto.id}">
                        <div class="crypto-info">
                            <div class="crypto-icon" style="background: ${getCryptoColor(crypto.symbol)}; color: white;">
                                ${crypto.symbol.charAt(0)}
                            </div>
                            <div>
                                <div class="crypto-name">${crypto.name}</div>
                                <div class="crypto-symbol">${crypto.symbol.toUpperCase()}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div class="crypto-price">${priceFormatted}</div>
                            <div class="crypto-change ${changeClass}">${changeText}</div>
                        </div>
                    </div>
                `;
            });
            
            cryptoList.innerHTML = html;
            
            // Actualizar timestamp
            updateTimestamp();
        }
        
        // 6. ACTUALIZAR DATOS GLOBALES DEL MERCADO
        async function updateGlobalStats() {
            const globalData = await fetchGlobalMarketData();
            
            if (globalData) {
                // Formatear números grandes
                const formatLargeNumber = (num) => {
                    if (num >= 1e12) return `$${(num / 1e12).toFixed(2)}T`;
                    if (num >= 1e9) return `$${(num / 1e9).toFixed(2)}B`;
                    if (num >= 1e6) return `$${(num / 1e6).toFixed(2)}M`;
                    return `$${num.toFixed(2)}`;
                };
                
                document.getElementById('totalMarketCap').textContent = formatLargeNumber(globalData.totalMarketCap);
                document.getElementById('totalVolume').textContent = formatLargeNumber(globalData.totalVolume);
                document.getElementById('btcDominance').textContent = `${globalData.btcDominance.toFixed(2)}%`;
                document.getElementById('activeCryptos').textContent = globalData.activeCryptos.toLocaleString();
                
                // Simular cambios (en producción, estos vendrían de la API)
                document.getElementById('marketCapChange').textContent = '+2.34% (24h)';
                document.getElementById('volumeChange').textContent = '+5.12%';
                document.getElementById('btcChange').textContent = '-0.42%';
            }
        }
        
        // 7. ACTUALIZAR GRÁFICO
        function updatePriceChart(data) {
            const ctx = document.getElementById('priceChart').getContext('2d');
            
            if (priceChart) {
                priceChart.destroy();
            }
            
            // Preparar datos para el gráfico
            const labels = data.map(crypto => crypto.symbol);
            const prices = data.map(crypto => crypto.current_price);
            const changes = data.map(crypto => crypto.price_change_percentage_24h);
            
            // Colores según performance
            const backgroundColors = changes.map(change => 
                change >= 0 ? 'rgba(0, 201, 167, 0.2)' : 'rgba(255, 71, 87, 0.2)'
            );
            const borderColors = changes.map(change => 
                change >= 0 ? 'rgba(0, 201, 167, 1)' : 'rgba(255, 71, 87, 1)'
            );
            
            priceChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Precio Actual (USD)',
                        data: prices,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const crypto = data[context.dataIndex];
                                    const change = crypto.price_change_percentage_24h;
                                    const changeText = change >= 0 ? `+${change.toFixed(2)}%` : `${change.toFixed(2)}%`;
                                    return [
                                        `${crypto.name}: $${crypto.current_price.toLocaleString()}`,
                                        `Cambio 24h: ${changeText}`
                                    ];
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // 8. FUNCIONES AUXILIARES
        function getCryptoColor(symbol) {
            const colors = {
                'BTC': '#F7931A',    // Naranja Bitcoin
                'ETH': '#627EEA',    // Azul Ethereum
                'USDT': '#26A17B',   // Verde Tether
                'BNB': '#F0B90B',    // Amarillo BNB
                'SOL': '#00FFA3',    // Verde Solana
                'XRP': '#23292F',    // Negro XRP
                'USDC': '#2775CA',   // Azul USDC
                'ADA': '#0033AD',    // Azul Cardano
                'DOGE': '#C2A633',   // Amarillo Dogecoin
                'AVAX': '#E84142'    // Rojo Avalanche
            };
            return colors[symbol.toUpperCase()] || '#1a73e8';
        }
        
        function updateTimestamp() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('es-ES', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('updateTime').textContent = timeString;
            lastUpdate = now;
        }
        
        // 9. ACTUALIZACIÓN AUTOMÁTICA
        async function refreshData() {
            console.log('Refrescando datos...');
            
            try {
                // Mostrar estado de carga
                document.getElementById('cryptoList').innerHTML = `
                    <div style="text-align: center; padding: 20px; color: var(--gray);">
                        <i class="fas fa-sync-alt fa-spin"></i>
                        <p style="margin-top: 10px;">Actualizando datos...</p>
                    </div>
                `;
                
                // Obtener datos
                const cryptoData = await fetchCryptoData();
                await updateGlobalStats();
                
                // Actualizar interfaz
                updateCryptoList(cryptoData);
                updatePriceChart(cryptoData);
                
                console.log('Datos actualizados exitosamente');
                
            } catch (error) {
                console.error('Error refrescando datos:', error);
                
                // Mostrar error
                document.getElementById('cryptoList').innerHTML = `
                    <div style="text-align: center; padding: 40px; color: var(--down-color);">
                        <i class="fas fa-exclamation-triangle fa-2x"></i>
                        <p style="margin-top: 10px;">Error de conexión</p>
                        <p style="font-size: 12px; margin-top: 5px;">Intentando reconectar...</p>
                    </div>
                `;
            }
        }
        
        // 10. INICIALIZACIÓN
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('Iniciando aplicación CryptoNews Pro...');
            
            // Configurar WhatsApp
            document.getElementById('whatsappButton').addEventListener('click', function() {
                window.open('https://wa.me/1234567890?text=Hola,%20quiero%20unirme%20al%20canal%20de%20criptomonedas', '_blank');
            });
            
            // Cargar datos iniciales
            await refreshData();
            
            // Actualizar cada 30 segundos
            setInterval(refreshData, 30000);
            
            // También actualizar cuando la ventana gana foco
            window.addEventListener('focus', refreshData);
            
            // Actualizar timestamp cada segundo
            setInterval(() => {
                if (lastUpdate) {
                    const now = new Date();
                    const diff = Math.floor((now - lastUpdate) / 1000);
                    document.getElementById('updateTime').textContent = 
                        `${lastUpdate.toLocaleTimeString('es-ES', { hour12: false, hour: '2-digit', minute: '2-digit' })} (hace ${diff}s)`;
                }
            }, 1000);
        });
        
        // 11. MANEJO DE ERRORES DE RED
        window.addEventListener('online', function() {
            console.log('Conexión restablecida, actualizando datos...');
            refreshData();
        });
        
        window.addEventListener('offline', function() {
            console.log('Conexión perdida');
            document.getElementById('cryptoList').innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--down-color);">
                    <i class="fas fa-wifi-slash fa-2x"></i>
                    <p style="margin-top: 10px;">Sin conexión a Internet</p>
                    <p style="font-size: 12px; margin-top: 5px;">Los datos se actualizarán cuando se restaure la conexión</p>
                </div>
            `;
        });
    </script>
</body>
</html>
